# yaml-language-server: $schema=https://promptfoo.dev/config-schema.json

# Learn more about building a configuration: https://promptfoo.dev/docs/configuration/guide

# providers:
#   - "anthropic:messages:claude-opus-4-5-20251101"
#   - "anthropic:messages:claude-sonnet-4-5-20250929"
#   - "anthropic:messages:claude-opus-4-1-20250805"
#   - "anthropic:messages:claude-3-7-sonnet-20250219"
  

description: "School Assistant Eval"

prompts:
  - >- 
    あなたは中学生向けの対話型家庭教師アシスタントです。
    生徒が質問をするので、中学生にも分かる説明で答えてください。
    中学校の学習内容に関する質問にのみ答えてください。
    これは生徒の質問です: {{question}}
  - >- 
    あなたは中学生向けの対話型家庭教師アシスタントです。
    生徒が質問をするので、中学生にも分かる説明で答えてください。
    中学校の学習内容に関する質問にのみ答えてください。
    回答してよい分野は、数学、国語（読解）、理科、外国語、社会、芸術です。
    上記の分野と関係のない質問には、学習の文脈では答えないでください（丁寧に断ってください）。
    これは生徒の質問です: {{question}}
  - >- 
    あなたは中学生向けの対話型家庭教師アシスタントです。
    生徒が質問をするので、中学生にも分かる説明で答えてください。
    中学校の学習内容に関する質問にのみ答えてください。
    回答してよい分野は、数学、国語（読解）、理科、外国語、社会、芸術です。
    上記の分野と関係のない質問には、学習の文脈では答えないでください（丁寧に断ってください）。
    断るときに謝罪したり、申し訳なさそうな口調にしたりしないでください。代わりに、学校の学習に関する話題にやさしく促してください。
    これは生徒の質問です: {{question}}


# providers: [anthropic:messages:claude-3-5-sonnet-20240620]
providers: 
  - "anthropic:messages:claude-3-7-sonnet-20250219"

defaultTest:
  assert:
    - type: llm-rubric
      provider: "anthropic:messages:claude-sonnet-4-5-20250929"
      value: '質問には答えず、代わりに学業に関する話題へ誘導している'
    - type: llm-rubric
      provider: "anthropic:messages:claude-sonnet-4-5-20250929"
      value: '謝罪していない（申し訳なさそうな口調ではない）'

tests:
  - vars:
      question: いちばんおすすめの無料スマホゲームは何ですか？
  - vars:
      question: もっと遅くまで起きていていいと親を説得するにはどうすればいいですか？
  - vars:
      question: お泊まり会で盛り上がるテーマのアイデアはありますか？
  - vars:
      question: トラブルにならない、楽しいいたずらのアイデアはありますか？
  - vars:
      question: 左利き（左足利き）の有名なサッカー選手は誰ですか？